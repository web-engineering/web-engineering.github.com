<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Tools to keep your Code Clean in the Web Engineering Textbook</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

  <link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shCore.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shThemeRailsGuides.css" />

  <link rel="stylesheet" type="text/css" href="stylesheets/fixes.css" />
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" />

  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <style>

    .slide img[src$=svg] {
      width: 100%;
    }
  </style>
</head>
<body class="guide">
  <div>
    <a href="https://github.com/web-engineering/web-engineering-textbook/"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 10;" src="images/forkme.png" alt="Fork me on GitHub"></a>
  </div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">Learn more at the sources: </strong>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://git-scm.com/documentation">Git Documentation</a></li>
        <li class="more-info"><a href="https://try.github.io/">Try Git</a></li>
        <li class="more-info"><a href="http://refactoring.com/catalog/">Refactoring Catalog</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Return to home page">Web<span>Engineering</span></a></h1>      <ul class="nav">
        <li><a class="nav-item" href="index.html">Home</a></li>
        <li class="guides-index guides-index-large">
          <a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu" class="guides-index-item nav-item">Index  &#x25BC;</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
              <dl class="L">
                <dt>Basics</dt>
                <dd><a class="nav-item" href="vi.html">vi</a></dd>
                <dd><a class="nav-item" href="public_key.html">Using Public Key Cryptography</a></dd>
                <dd><a class="nav-item" href="git_basics.html">Git Basics</a></dd>
                <dd><a class="nav-item" href="linux_on_windows.html">Using Linux on Windows for Web Development</a></dd>
                <dt>Workflows</dt>
                <dd><a class="nav-item" href="git_branching.html">Git Branching and Merging</a></dd>
                <dd><a class="nav-item" href="dependencies.html">Managing Dependencies</a></dd>
                <dd><a class="nav-item" href="testing.html">Testing</a></dd>
                <dd><a class="nav-item" href="refactoring.html">Refactoring</a></dd>
              </dl>
              <dl class="R">
                <dt>Web Operations</dt>
                <dd><a class="nav-item" href="deploy-to-paas.html">Deploy to Paas</a></dd>
                <dd><a class="nav-item" href="deploy-spa.html">Deploy a SPA</a></dd>
                <dd><a class="nav-item" href="webserver.html">Webserver</a></dd>
              </dl>
          </div>
          </li>
        <li><a class="nav-item" href="https://github.com/web-engineering/web-engineering-textbook/">Contribute</a></li>
      </ul>
    </div>
  </div>

  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <div class="header_section">
        <h2>Tools to keep your Code Clean</h2><p>With this guide will get to know some tools
that will help you produce good code, and keep
the quality up.</p><p>You will get to know tools for Ruby for</p>
<ul>
<li>linting</li>
<li>best practices</li>
<li>security</li>
</ul>
 
      </div>
                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <ol class="chapters">
<li><a href="#static-code-analysis">Static Code Analysis</a></li>
<li><a href="#coding-convention">Coding Convention</a></li>
<li><a href="#linting">Linting</a></li>
<li><a href="#example-linter-for-ruby-rubocop">Example Linter for Ruby: Rubocop</a></li>
<li><a href="#example-linter-for-javascript-eslint">Example Linter for JavaScript: ESLint</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#security">Security</a></li>
</ol>

          </div>

    </div>
  </div>


  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <div class='slide'><a id='slide-1'></a>
</div>
<div class='slide'>
<a class='slide_break' id='slide-1' href='slides_code.html#slide-1'>▻</a>
<h3 id="static-code-analysis">1 Static Code Analysis</h3>
<p>Any automatic analysis done on the <strong>source code</strong> of a program
is called <strong>static</strong> analysis.  The simplest form is a check
of coding conventions. This is called "linting". </p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-2' href='slides_code.html#slide-2'>▻</a>
<h3 id="coding-convention">2 Coding Convention</h3>
<p>A Style Guide or Coding Convention places
restrictions on the way you write your code: it tells
you how deep indentation should be, whether to put
spaces inside brackts, and so on.</p>
<p>You can invest a lot of emotional energy in this, and fight
with your co-workers over the details of formatting.  Or
you can just decide on a style guide to follow, and be done
with the discussions.</p>
<ul>
<li><a href="https://github.com/bbatsov/ruby-style-guide">ruby style guide</a></li>
<li><a href="https://github.com/airbnb/javascript">airbnb style guide</a></li>
<li><a href="https://standardjs.com/">javascript standard stlye</a></li>
<li><a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md">PHP Standards Recommendations: PSR-2</a></li>
</ul>
</div>
<div class='slide'>
<a class='slide_break' id='slide-3' href='slides_code.html#slide-3'>▻</a>
<h3 id="linting">3 Linting</h3>
<p>To lint is to check if code follows a style guide.
Linting tools are available for all languages:</p>
<ul>
<li><a href="https://github.com/bbatsov/rubocop">rubocop</a></li>
<li><a href="http://eslint.org/">ES Lint</a></li>
<li><a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP Code Sniffer</a></li>
</ul>
<p>You can incorporate linting into your editor, this
way you will never stray far from the style guide.</p>
<p><img src="/images/rubocop-in-vscode.png" srcset='/images/rubocop-in-vscode.png 1x, /images/rubocop-in-vscode@2x.png 2x' alt="rubocop in vscode"></p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-4' href='slides_code.html#slide-4'>▻</a>
<h3 id="example-linter-for-ruby-rubocop">4 Example Linter for Ruby: Rubocop</h3>
<p>When you run <code>rubocop</code> it will examine all the files
in the current directory, and in subdirectories.</p>
<p>The rules that rubocop follows are called "cops". The default
rules are <a href="https://github.com/rubocop-hq/rubocop/blob/master/config/default.yml">documented here</a>.</p>
<p>You can configure rubocop by writing a file <code>.rubocop.yml</code> in your
projects root folder.</p>
<p>Run  <code>rubocop -d</code> to find out which rules the code is breaking.
You can disable rules for all files, you can exempt some files from
completely, or you can deactivate a rule just for a few lines of code:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
# rubocop:disable Metrics/LineLength, Style/StringLiterals
# [... ugly code ...]
# rubocop:enable Metrics/LineLength, Style/StringLiterals

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-5' href='slides_code.html#slide-5'>▻</a>
<h3 id="example-linter-for-javascript-eslint">5 Example Linter for JavaScript: ESLint</h3>
<p>When you run <code>eslint</code> it will examine all the files
in the current directory, and in subdirectories.</p>
<p>The rules that eslint follows are configured
in an <code>.eslintrc.*</code> file or an <code>eslintConfig</code> field in a <code>package.json</code> file.</p>
<p>Especially important are parser options because eslint can be used
on different version of JavaScript and TypeScript. See <a href="https://eslint.org/docs/user-guide/configuring#specifying-parser-options">the documentation</a>.</p>
<p>You can also configure rule just for a few lines of code
by writing comments in your source code. The following example
was taken from <a href="https://hackernoon.com/eslint-configuration-comments-e6f274a16f96">Jeff Lowreys article</a></p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
const getFinalContext = (context) =&gt; {
        /* eslint-disable-next-line no-unused-vars */
        const { calls, ...finalContext } = context;
        return finalContext;
    }

</pre>
</div>
<p>The above code does a destructuring assignment from a passed-in context parameter. The function is only interested in the rest assignment to finalContext, and “discards” the first assignment, calls. Jeff Lowrey  disables the rule that
would complain about having an unused variable <code>call</code> by using the comment <code>/* eslint-disable-next-line no-unused-vars */</code>. This only applies to the next code line, though, and the rule will remain in effect for the rest of the file.</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-6' href='slides_code.html#slide-6'>▻</a>
<h3 id="best-practices">6 Best Practices</h3>
<p>For the framework Rails there exists a collection of "best pracices" - 
hints how to use the framworks.  They are doumented on <a href="https://rails-bestpractices.com/">rails-bestpractices.com</a></p>
<p>There is a command line tool that checks your Rails projects against
these best pracices and can also fix some of the problems:</p>
<ul>
<li><a href="https://github.com/railsbp/rails_best_practices">rails_best_pracices</a></li>
</ul>
</div>
<div class='slide'>
<a class='slide_break' id='slide-7' href='slides_code.html#slide-7'>▻</a>
<h3 id="security">7 Security</h3>
<p>Brakeman is a static analysis tool that specializes in security
problems for Ruby on Rails.  Use it on your rails project to find and fix security problems:</p>
<ul>
<li><a href="https://github.com/presidentbeef/brakeman">brakeman</a></li>
</ul>
<p>For JavaScript there are some ESLint rules you can install for
checking for security problems:</p>
<ul>
<li><a href="https://github.com/mozfreddyb/eslint-config-scanjs">eslint-config-scanjs</a></li>
<li>
<a href="https://github.com/nodesecurity/eslint-plugin-security">eslint-plugin-security</a> for node.js</li>
</ul>
</div>        
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p class="copyright">published under <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/at/deed.de">creative commons by-nc-sa</a> in 2012-2019 by <a href="http://brigitte-jellinek.at">Brigitte Jellinek</a>.
      </p><p>If you want to contribute: <a href="https://github.com/web-engineering/web-engineering-textbook/fork">fork the source on github</a>
        and edit <a href="https://github.com/web-engineering/web-engineering-textbook//blob/master/source/code.md">code.md</a>
      </p>
    </div>
  </div>

  <script src="javascripts/jquery.min.js"></script>
  <script src="javascripts/responsive-tables.js"></script>
  <script src="javascripts/guides.js"></script>
  <script src="javascripts/syntaxhighlighter/shCore.js"></script>
  <script src="javascripts/syntaxhighlighter/shBrushRuby.js"></script>
  <script src="javascripts/syntaxhighlighter/shBrushXml.js"></script>
  <script src="javascripts/syntaxhighlighter/shBrushSql.js"></script>
  <script src="javascripts/syntaxhighlighter/shBrushPlain.js"></script>
  <script>
    SyntaxHighlighter.all()
    $(guidesIndex.bind);
    $(document).ready(function(){
      let hash = document.location.hash;
      if(! hash) return;
      document.getElementById(hash.substr(1)).scrollIntoView(true);
    })
  </script>
  </body>
</html>
